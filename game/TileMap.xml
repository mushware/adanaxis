<?xml version="1.0" standalone="no"?>
<!-- Tile map -->
<tilemap version="0.0">
<script type="text/core">
loadpixmap('floor1',$IMAGEPATH+'/images/floor1.tiff')
loadpixmap('wall1',$IMAGEPATH+'/images/wall1.tiff')
	
<!-- decompose options are src, dest, xsize, ysize, xstart, ystart, xnum, ynum -->
decompose('floor1','floor_@',32,32)
decompose('wall1','wall_@',32,32)
<!-- Idealised command set
pixmapflags('floor1',1,1); /* pixmapflags(<name>,<tesellates x>,<tesellates y>) */

<traits type="tile">
  <name>openspace</name>
  <collision>0</collision>
  <transparent>1</transparent>
</traits>

<traits type="tile">
  <name>slippery</name>
  <adhesion>0.2</adhesion>
</traits>

<traits type="tile" name="landmine">
  <object type="static" name="landmine">
    <offset>0.3,0.3</offset>
  </object>
</traits>

<traits type="tile" name="tiledfloor">
  <base>openspace,slippery</base>
  <stepsound>clomp1</stepsound>
</traits>

<tile number="10">
  <graphic type="pixmap">
    <name>floor_0_1</name>
  </graphic>
  <traits>
    <base>tiledfloor</base>
  </traits>
</tile>

<tile number="11">
  <graphic type="pixmap">
    <name>floor_0_1</name>
    <rectangle>32,32,96,96</rectangle>
    <tesellate>1,1</tesellate>
    <animate>
      <sequence duration="1.0s">0,1,2,3,4,3,2,1</sequence>
    </animate>
  </graphic>

  <graphic type="pixmap">
    <name>landmine</name>
    <tesellate>1,1</tesellate>
    <animate type="rotate">
      <initial>0,0,1,0</initial>
      <increment highlimit="0,0,0,3.14">0,0,1,1.57</increment>
      <increment timelimit="0.5s">0,0,1,0</increment>
      <audio>softping</audio>
      <increment lowlimit="0,0,0,0">0,0,1,1.57</increment>
      <increment timelimit="0.5s">0,0,1,0</increment>
      <audio>softping</audio>
    </animate>
    <animate type="colour">
      <initial>1,1,1,0.5</initial>
      <increment highlimit="0.2,1,1,1">0.2,0,0,0</increment>
      <increment lowlimit="0.0,0,0,0">-0.2,0,0,0</increment>
    </animate>
  </graphic>

  <traits>
    <base>tiledfloor,slippery</base>
    <onenter>
      <script type="text/core">
adjustmap($THISX,$THISY,13)
      </script>
    </onenter>
  </traits>
</tile>

-->

</script>

<traits type="tile" name="slipperyfloor">
  <base>tiledfloor,slippery</base>
  <graphic>
    <name>floor_0_1</name>
  </graphic>
</traits>

<map>10 floor_0_1</map>
<map>11 floor_1_1</map>
<map>12 floor_2_1</map>
<map>13 floor_3_1</map>
<map>14 floor_0_0</map>
<map>15 floor_1_0</map>
<map>16 floor_2_0</map>
<map>17 floor_3_0</map>

<map>100 wall_0_3</map>
<map>101 wall_1_3</map>
<map>102 wall_2_3</map>
<map>103 wall_3_3</map>
<map>104 wall_0_2</map>
<map>105 wall_1_2</map>
<map>106 wall_2_2</map>
<map>107 wall_3_2</map>
<map>108 wall_0_1</map>
<map>109 wall_1_1</map>
<map>110 wall_2_1</map>
<map>111 wall_3_1</map>
<map>112 wall_0_0</map>
<map>113 wall_1_0</map>
<map>114 wall_2_0</map>
<map>115 wall_3_0</map>
</tilemap>
